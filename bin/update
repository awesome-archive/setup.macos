#!/bin/sh
# -*- mode: sh -*-
# vim: set ft=sh :

set -eu
cd "$(cd "$(dirname "$0")"; pwd)"

sudo -v
while true; do sleep 50; sudo -n true; kill -0 "$$" || exit; done 2>/dev/null &

brew upgrade
brew cleanup

vagrant plugin update

./update_docker

git -C "${ZDOTDIR:-$HOME}/.zprezto" pull --recurse-submodules || true
git -C "${ZDOTDIR:-$HOME}/.zprezto" gc --aggressive

./update_asdf
mas upgrade
./update_system
